<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>MARCEL NIYITEGEKA</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  <link rel="stylesheet" href="assets/css/responsive.css">
</head>

<body>
  <div class="page-container">
    <div class="navbar">

      <input type="checkbox" id="check">
      <label for="check" class="checkbtn">
        <i class="fas fa-bars"></i>
      </label>

      <h3 class="logo"> NIYITEGEKA MARCEL</h3>

      <div class="navbar-links">
        <a href="index.html">HOME</a>
        <a href="resume.html">RESUME</a>
        <a href="blog.html">BLOG</a>
        <a href="register.html" id="active">REGISTER</a>
        <a href="login.html">LOGIN</a>
      </div>
    </div>

    <div class="register-container">
       <div class="register-form">
        <div class="contain">
          <div class="form-message">
            <div class="header2">
              <h2>Signup now</h2>
            </div>
            <div class="message">
              <span>fill in the form below to get instant access</span>
            </div>
            <div class="logo">
              <img src="assets/images/registerlog.png" alt="logo">
            </div>
          </div>
        </div>

        <form id="signup-form">
          <input type="text" id="name" placeholder="Your name">
          <input type="text" id="email" placeholder="Email">
          <input type="password" id="password" placeholder="Password">
          <input type="password" id="cpassword" placeholder="Confirm password">
          <input type="submit" id="submit" name="" value="Submit">
        </form>


      </div>
      <div class="register-msg">

        <h2>Get in touch</h2>
        <span>Already have an account?</span>
        <br>
        <button type="button" name="button">Login</button>

      </div>
    </div>



  </div>


  <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-app.js"></script>

  <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-firestore.js"></script>

<script type="text/javascript" src="assets/js/config.js"></script>
<script>

const signupForm = document.querySelector('#signup-form');
signupForm.addEventListener('submit', (e) => {
  e.preventDefault();
  const name = document.getElementById("name").value;
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const cpassword = document.getElementById("cpassword").value;
  if(email !=='' && password !=='' && cpassword !==''){
    if(password===cpassword){
      firebase.auth().createUserWithEmailAndPassword(email, password)
      .then(function(user){
        db.collection("Users").doc(user.user.uid).set({
           names: name,
           email: email,
           role: "Guest",
           date: new Date()
        });
       signupForm.reset();
       alert("Account created succefully, you can log in");
      })
      .catch(function(error) {
        var errorCode = error.code;
        var errorMessage = error.message;
        alert(errorMessage);
      });
    } else {
      alert("user identical password");
    }
  }



});

init();











</script>

</body>

</html>
